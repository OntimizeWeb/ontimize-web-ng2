@import 'node_modules/@angular/material/theming';
@import './o-table-typography.scss';
@mixin o-table-theme($theme, $typography: null) {
  $primary: map-get($theme, primary);
  $accent: map-get($theme, accent);
  $warn: map-get($theme, warn);
  $background: map-get($theme, background);
  $foreground: map-get($theme, foreground);
  @if $typography == null {
    $typography: o-table-typography-config();
  }

  $small-header-height: mat-font-size($typography, small-header-height);
  $small-row-height: mat-font-size($typography, small-row-height);
  $small-header-font-size: mat-font-size($typography, small-header-font-size);
  $small-row-font-size: mat-font-size($typography, small-row-font-size);

  $medium-header-height: mat-font-size($typography, medium-header-height);
  $medium-row-height: mat-font-size($typography, medium-row-height);
  $medium-header-font-size: mat-font-size($typography, medium-header-font-size);
  $medium-row-font-size: mat-font-size($typography, medium-row-font-size);

  $large-header-height: mat-font-size($typography, large-header-height);
  $large-row-height: mat-font-size($typography, large-row-height);
  $large-header-font-size: mat-font-size($typography, large-header-font-size);
  $large-row-font-size: mat-font-size($typography, large-row-font-size);

  .o-table {
    .o-table-menu-button {
      color: mat-color($foreground, secondary-text);
    }

    .mat-header-row {
      background-color: mat-color($background, status-bar, 0.9);

      .mat-header-cell {
        color: mat-color($foreground, text);

        .column-filter-icon.active {
          color: mat-color($accent);
        }
      }
    }

    .spinner-container {
      background-color: mat-color($background, background);
    }

    .mat-row {
      &:hover {
        cursor: pointer;
        background-color: mat-color($foreground, base, 0.18);
      }

      .mat-cell {
        color: mat-color($foreground, secondary-text);

        &.o-column-currency,
        &.o-column-integer,
        &.o-column-real {
          text-align: right;
        }

        &.o-column-action,
        &.o-column-boolean,
        &.o-column-date {
          text-align: center;
        }

      }
    }

    .buttons {
      button {
        color: mat-color($foreground, secondary-text);
      }

      button:not(.disabled):hover {
        background-color: mat-color($background, hover);
      }

      .button {
        &.active {
          color: mat-color($foreground, secondary-text);

          &::after {
            background: #eee;
          }
        }

        &.disabled {
          color: mat-color($background, disabled-button);
        }
      }
    }

    .mat-table {
      &.editable-row-table {
        .mat-row {
          background-color: mat-color($background, status-bar, 0.9);
        }
      }

      &.totals-table {
        .mat-header-row {
          display: none!important;
        }

        .mat-row {
          font-weight: bold;
          background-color: mat-color($background, status-bar, 0.9);
        }
      }

    }

    .o-table-body.horizontal-scroll {
      &::-webkit-scrollbar-thumb {
        background-color: mat-color($primary, 200, 0.5);
      }

      &::-webkit-scrollbar-thumb:hover {
        background-color: mat-color($primary, 200);
      }

      &::-webkit-scrollbar-thumb {
        border: 6px solid;
        border-color: mat-color($background, background);
      }

      &::-webkit-scrollbar-thumb:hover {
        border: 4px solid;
        border-color: mat-color($background, background);
      }
    }

    .o-table-container {
      .mat-table {
        &.small {
          .mat-header-row {
            min-height: $small-header-height;
            max-height: $small-header-height;
            line-height: $small-header-height;

            .mat-header-cell {
              font-size: $small-header-font-size;
            }
          }

          .mat-row {
            min-height: $small-row-height;
            max-height: $small-row-height;

            .mat-cell {
              .mat-form-field {
                font-size: $small-row-font-size;
              }
              font-size: $small-row-font-size;
            }
          }
        }

        &.medium {
          .mat-header-row {
            min-height: $medium-header-height;
            max-height: $medium-header-height;
            line-height: $medium-header-height;

            .mat-header-cell {
              font-size: $medium-header-font-size;
            }
          }

          .mat-row {
            min-height: $medium-row-height;
            max-height: $medium-row-height;

            .mat-cell {
              .mat-form-field {
                font-size: $medium-row-font-size;
              }
              font-size: $medium-row-font-size;
            }
          }
        }

        &.large {
          .mat-header-row {
            min-height: $large-header-height;
            max-height: $large-header-height;
            line-height: $large-header-height;

            .mat-header-cell {
              font-size: $large-header-font-size;
            }
          }

          .mat-row {
            min-height: $large-row-height;
            max-height: $large-row-height;

            .mat-cell {
              .mat-form-field {
                font-size: $large-row-font-size;
              }
              font-size: $large-row-font-size;
            }
          }
        }
      }

      .o-table-no-results {
        &.small {
          min-height: $small-header-height;
        }

        &.medium {
          min-height: $medium-header-height;
        }

        &.large {
          min-height: $large-header-height;
        }
      }
    }
  }
}
